{
  "openapi": "3.0.0",
  "info": {
    "title": "Madrasly",
    "description": "The official Madrasly API to generate interactive playgrounds on demand.",
    "version": "0.1.0"
  },
  "servers": [
    {
      "url": "http://localhost:3000",
      "description": "Local development server"
    }
  ],
  "paths": {
    "/health": {
      "get": {
        "summary": "Health Check",
        "description": "Returns the health status of the API.",
        "responses": {
          "200": {
            "description": "API is healthy",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "healthy"
                    },
                    "timestamp": {
                      "type": "string",
                      "format": "date-time",
                      "example": "2023-10-27T10:00:00.000Z"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/generate": {
      "post": {
        "summary": "Generate Demo Playground",
        "description": "Generates a static API demo playground from an OpenAPI specification. No API key or account creation required.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "spec": {
                    "type": "string",
                    "format": "uri",
                    "description": "The URL to the OpenAPI specification (must be http:// or https://).",
                    "example": "https://cxzlehzbkgojooqvubuu.supabase.co/storage/v1/object/public/playgrounds/playgrounds/coingecko-spec.json"
                  },
                  "theme": {
                    "type": "string",
                    "enum": [
                      "light",
                      "dark",
                      "coffee"
                    ],
                    "description": "Set default theme."
                  },
                  "workspaceImage": {
                    "type": "string",
                    "description": "Workspace logo/image URL or file path.",
                    "example": "https://miro.medium.com/v2/resize:fill:160:160/1*MNU7nMmomuk3xc2S2Jw08Q.png"
                  },
                  "includeDownload": {
                    "type": "boolean",
                    "default": true,
                    "description": "Whether to generate and upload a downloadable ZIP file to Supabase. Defaults to true.",
                    "example": true
                  },
                  "includePreview": {
                    "type": "boolean",
                    "default": true,
                    "description": "Whether to deploy an interactive playground to Vercel. Defaults to true.",
                    "example": true
                  }
                },
                "required": [
                  "spec"
                ]
              },
              "examples": {
                "default": {
                  "summary": "Dark Theme Coingecko Playground",
                  "value": {
                    "spec": "https://cxzlehzbkgojooqvubuu.supabase.co/storage/v1/object/public/playgrounds/playgrounds/coingecko-spec.json",
                    "workspaceImage": "https://miro.medium.com/v2/resize:fill:160:160/1*MNU7nMmomuk3xc2S2Jw08Q.png",
                    "theme": "dark",
                    "includeDownload": false,
                    "includePreview": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Generation successful.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "format": "uuid"
                    },
                    "previewUrl": {
                      "type": "string",
                      "format": "uri",
                      "description": "The URL to the live preview on Vercel (only included if includePreview is true)."
                    },
                    "downloadUrl": {
                      "type": "string",
                      "format": "uri",
                      "description": "The URL to download the source code ZIP (only included if includeDownload is true)."
                    },
                    "status": {
                      "type": "string",
                      "description": "Status of the generation process."
                    },
                    "message": {
                      "type": "string",
                      "description": "Human-readable message about the generation status."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request (missing spec, invalid URL, or both includeDownload and includePreview are false)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error (generation failed)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "details": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "x-ui-config": {
    "sidebar": {
      "workspace": {
        "name": "Madrasly",
        "icon": "API"
      },
      "user": {
        "name": "User",
        "initials": "U"
      }
    },
    "endpoints": {
      "get--health": {
        "title": "Health Check",
        "description": "Returns the health status of the API.",
        "method": "GET",
        "path": "/health"
      },
      "post--api-generate": {
        "title": "Generate Demo Playground",
        "description": "Generates a static API demo playground from an OpenAPI specification. No API key or account creation required.",
        "method": "POST",
        "path": "/api/generate"
      }
    },
    "auth": {
      "mode": "manual"
    }
  }
}